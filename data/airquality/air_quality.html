<html>
<head>
<meta name="viewport" content="initial-scale=1.0, user-scalable=no">
<meta charset="UTF-8">
<h3>Air Pollution before, during and after July 4th</h3>
<style type="text/css">
  html { height: 100% }
  body { height: 100%; margin: 0; padding: 0 ;
  font-family: 'Proxima Nova', sans-serif;
  font-size: 20px;
  color: #333333;}
  #map_canvas { height: 100% }
   #googft-legend{background-color:#fff;border:1px solid #000;font-family:Arial,sans-serif;font-size:12px;margin:5px;padding:10px 10px 8px}#googft-legend p{font-weight:bold;margin-top:0}#googft-legend div{margin-bottom:5px}.googft-legend-swatch{border:1px solid;float:left;height:12px;margin-right:8px;width:20px}.googft-legend-range{margin-left:0}.googft-dot-icon{margin-right:8px}.googft-paddle-icon{height:24px;left:-8px;margin-right:-8px;position:relative;vertical-align:middle;width:24px}.googft-legend-source{margin-bottom:0;margin-top:8px}.googft-legend-source a{color:#666;font-size:11px}

   #slider {
   height:11px;
   left:20px;
/*background:url(fill.png)no-repeat left;*/
position:relative;
margin:0;
padding:0 10px;
width:230px;
text-align: center;

}
 
/*Style for the slider button*/
.ui-slider-handle {
width:24px;
height:24px;
position:absolute;
top:-7px;
margin-left:-12px;
z-index:200;
background:url(slider-button.png);
}
 
/*Result div where the slider value is displayed*/
#slider-value {
font-size:50px;
height:200px;
font-family:Arial, Helvetica, sans-serif;
color:#fff;
width:250px;
text-align:center;
text-shadow:0 1px 1px #000;
font-weight:700;
left:20px;
padding:10px 0;
}
a {
outline:none;
-moz-outline-style:none;
}
</style>
<!-- <script type="text/javascript" src="https://maps.google.com/maps/api/js?v=3"></script> -->
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyC2XU32q2CboXsrAfCqxCE2fk22pSQRNxs&libraries=places&callback=initMap"
    async defer></script>
 <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
 <script src="slider/simple-slider.js"></script>
 <link href="slider/simple-slider.css" rel="stylesheet"
 type="text/css" />
  <link href="slider/simple-slider-volume.css" rel="stylesheet"
 type="text/css" />

<script type="text/javascript">

function initialize() {
  map = new google.maps.Map(document.getElementById("map_canvas"), {
    center: new google.maps.LatLng(43.81974308739339, -108.02527081250003),
    zoom: 3,
    mapTypeId: google.maps.MapTypeId.ROADMAP
  });
  map.controls[google.maps.ControlPosition.RIGHT_TOP].push(document.getElementById('googft-legend-open'));
    map.controls[google.maps.ControlPosition.RIGHT_TOP].push(document.getElementById('googft-legend'));

     var styledMapType = new google.maps.StyledMapType(
[
  {
    "elementType": "geometry",
    "stylers": [
      {
        "color": "#f4f1eb"
      },
      {
        "weight": 0.5
      }
    ]
  },
  {
    "elementType": "labels.text.fill",
    "stylers": [
      {
        "color": "#523735"
      }
    ]
  },
  {
    "elementType": "labels.text.stroke",
    "stylers": [
      {
        "color": "#f5f1e6"
      }
    ]
  },
  {
    "featureType": "administrative",
    "elementType": "geometry.stroke",
    "stylers": [
      {
        "color": "#c9b2a6"
      }
    ]
  },
  {
    "featureType": "administrative.land_parcel",
    "elementType": "geometry.stroke",
    "stylers": [
      {
        "color": "#dcd2be"
      }
    ]
  },
  {
    "featureType": "administrative.land_parcel",
    "elementType": "labels.text.fill",
    "stylers": [
      {
        "color": "#ae9e90"
      }
    ]
  },
  {
    "featureType": "landscape.natural",
    "elementType": "geometry",
    "stylers": [
      {
        "color": "#dfd2ae"
      }
    ]
  },
  {
    "featureType": "poi",
    "elementType": "geometry",
    "stylers": [
      {
        "color": "#dfd2ae"
      }
    ]
  },
  {
    "featureType": "poi",
    "elementType": "labels.text.fill",
    "stylers": [
      {
        "color": "#93817c"
      }
    ]
  },
  {
    "featureType": "poi.park",
    "elementType": "geometry.fill",
    "stylers": [
      {
        "color": "#a5b076"
      }
    ]
  },
  {
    "featureType": "poi.park",
    "elementType": "labels.text.fill",
    "stylers": [
      {
        "color": "#447530"
      }
    ]
  },
  {
    "featureType": "road",
    "elementType": "geometry",
    "stylers": [
      {
        "color": "#f5f1e6"
      }
    ]
  },
  {
    "featureType": "road.arterial",
    "elementType": "geometry",
    "stylers": [
      {
        "color": "#fdfcf8"
      }
    ]
  },
  {
    "featureType": "road.highway",
    "elementType": "geometry",
    "stylers": [
      {
        "color": "#f8c967"
      }
    ]
  },
  {
    "featureType": "road.highway",
    "elementType": "geometry.stroke",
    "stylers": [
      {
        "color": "#e9bc62"
      }
    ]
  },
  {
    "featureType": "road.highway.controlled_access",
    "elementType": "geometry",
    "stylers": [
      {
        "color": "#e98d58"
      }
    ]
  },
  {
    "featureType": "road.highway.controlled_access",
    "elementType": "geometry.stroke",
    "stylers": [
      {
        "color": "#db8555"
      }
    ]
  },
  {
    "featureType": "road.local",
    "elementType": "labels.text.fill",
    "stylers": [
      {
        "color": "#806b63"
      }
    ]
  },
  {
    "featureType": "transit.line",
    "elementType": "geometry",
    "stylers": [
      {
        "color": "#dfd2ae"
      }
    ]
  },
  {
    "featureType": "transit.line",
    "elementType": "labels.text.fill",
    "stylers": [
      {
        "color": "#8f7d77"
      }
    ]
  },
  {
    "featureType": "transit.line",
    "elementType": "labels.text.stroke",
    "stylers": [
      {
        "color": "#ebe3cd"
      }
    ]
  },
  {
    "featureType": "transit.station",
    "elementType": "geometry",
    "stylers": [
      {
        "color": "#dfd2ae"
      }
    ]
  },
  {
    "featureType": "water",
    "elementType": "geometry.fill",
    "stylers": [
      {
        "color": "#D3D3D3"
      }
    ]
  },
  {
    "featureType": "water",
    "elementType": "labels.text.fill",
    "stylers": [
      {
        "color": "#92998d"
      }
    ]
  }
],
          {name: 'Styled Map'});


  layer1 = new google.maps.FusionTablesLayer({
      map: map,
      heatmap: { enabled: false },
      query: {
        select: "col5",
        from: "1H2Mln9-Dv__LLoRqRYkLiK47qtt2pMrw1lN6cDaV",
        where: "col9 \x3d \x272016-07-03 00:00:00\x27"
      },
      options: {
        styleId: 2,
        templateId: 2
      }
    });

  layer2 = new google.maps.FusionTablesLayer({
       map: map,
      heatmap: { enabled: false },
      query: {
        select: "col5",
        from: "1H2Mln9-Dv__LLoRqRYkLiK47qtt2pMrw1lN6cDaV",
        where: "col9 \x3d \x272016-07-04 00:00:00\x27"
      },
      options: {
        styleId: 3,
        templateId: 3
      }
  });
    layer3 = new google.maps.FusionTablesLayer({
   map: map,
      heatmap: { enabled: false },
      query: {
        select: "col5",
        from: "1H2Mln9-Dv__LLoRqRYkLiK47qtt2pMrw1lN6cDaV",
        where: "col9 \x3d \x272016-07-05 00:00:00\x27"
      },
      options: {
        styleId: 4,
        templateId: 4
      }
  });
    map.mapTypes.set('styled_map', styledMapType);
    map.setMapTypeId('styled_map');
}

      tableidselections = 0;

function changeLayer(tableidselections) {

  if (tableidselections == 3){
    clearmap();
    layer1.setMap(map); }

  if (tableidselections == 4){
    clearmap();
    layer2.setMap(map); }
    
  if (tableidselections == 5){
    clearmap();
    layer3.setMap(map); }

  }

  function clearmap() {
    layer1.setMap(null);
    layer2.setMap(null);
    layer3.setMap(null);
  }

</script></head>
<body onload="initialize();">




<div id="map_canvas" style="width:80%; height:80%"></div>
  <input id="googft-legend-open" style="display:none" type="button" value="Legend"></input>
  
  <div id="googft-legend">
    <p id="googft-legend-title">Sample Measurement (Î¼g/m^3)</p>
    <div>
      <img class="googft-dot-icon" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAYAAADgkQYQAAAAiklEQVR42mNgQIAoIF4NxGegdCCSHAMzEC81M4v6n56++n9V1RkwbWgY+B8oPhOmKM3WNu3/zJn/MbCFRSxIYSxI0YHi4gNYFRUW7gUp2gtS9LC9/SFWRc3Nt0GKbhNtUizIbmyKjIxCQIpCYI6fD/JdVtZGsO8yMtbBfDeNAQ2AwmkjNJzWIYcTAMk+i9OhipcQAAAAAElFTkSuQmCC"/>
      <span class="googft-legend-range">-10 to 35</span>
    </div>
    <div>
      <img class="googft-dot-icon" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAYAAADgkQYQAAAAiklEQVR42mNgQIAoIF4NxGegdCCSHAMzEC+NUlH5v9rF5f+ZoCAwHaig8B8oPhOmKC1NU/P//7Q0DByrqgpSGAtSdOCAry9WRXt9fECK9oIUPXwYFYVV0e2ICJCi20SbFAuyG5uiECUlkKIQmOPng3y30d0d7Lt1bm4w301jQAOgcNoIDad1yOEEAFm9fSv/VqtJAAAAAElFTkSuQmCC"/>
      <span class="googft-legend-range">35 to 735.9</span>
    </div>
    <input id="googft-legend-close" style="display:none" type="button" value="Hide"></input>
  </div>
<div id="slider" class="container">
  <input data-slider="true" data-slider-values="3,4,5" data-slider-highlight="true" data-slider-snap="true" type="text" />
</div>
<h5>Slide the date above to see the changes for July 3rd, 4th and 5th.</h5>

 <script>
$("[data-slider]")
.each(function () {
var input = $(this);
$("<span>")
.addClass("output")
.insertAfter($(this));
})
.bind("slider:ready slider:changed", function (event, data) {
$(this)
.nextAll(".output:first")
.html(data.value.toFixed(0));
tableidselections = data.value.toFixed(0);
changeLayer(tableidselections);
});
</script></div>

<script src="https://www.google-analytics.com/urchin.js" type="text/javascript"> 
</script> 
</body>


