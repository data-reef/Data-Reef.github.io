<!DOCTYPE html>
<html>
<head>
  <title>Styled Map Types</title>
  <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
  <meta charset="utf-8">
  <style>
      /* Always set the map height explicitly to define the size of the div
      * element that contains the map. */
      #map {
        height: 100%;
        width: 100%;
      }
      /* Optional: Makes the sample page fill the window. */
      html, body {
        height: 80%;
        width: 80%;
        margin: 0;
        padding: 0;
      }
      body {
  font-family: 'Proxima Nova', sans-serif;
  font-size: 15x;
  color: #333333;
}
      #googft-legend{
        background-color:#fff;border:1px solid #000;font-family:Arial,sans-serif;font-size:8px;margin:5px;padding:10px 10px 8px}
        #googft-legend 
        p{font-weight:bold;margin-top:0}
        #googft-legend div{margin-bottom:5px}
        .googft-legend-swatch{border:1px solid;float:left;height:9px;margin-right:8px;width:20px}
        .googft-legend-range{margin-left:0}
        .googft-dot-icon{margin-right:8px}
        .googft-paddle-icon{height:12px;left:-8px;margin-right:-8px;position:relative;vertical-align:middle;width:12px}.googft-legend-source{margin-bottom:0;margin-top:8px}.googft-legend-source a{color:#666;font-size:8px}

      </style>
    </head>
    <body>
              <h1>Total Mango Production in the World, 2014</h1>

      <div id="map"></div>

      <script>
      function initMap() {

        // Create a new StyledMapType object, passing it an array of styles,
        // and the name to be displayed on the map type control.
        var styledMapType = new google.maps.StyledMapType(
          [
  {
    "elementType": "geometry",
    "stylers": [
      {
        "color": "#f5f5f5"
      }
    ]
  },
  {
    "elementType": "labels.icon",
    "stylers": [
      {
        "visibility": "off"
      }
    ]
  },
  {
    "elementType": "labels.text.fill",
    "stylers": [
      {
        "color": "#616161"
      }
    ]
  },
  {
    "elementType": "labels.text.stroke",
    "stylers": [
      {
        "color": "#f5f5f5"
      }
    ]
  },
  {
    "featureType": "administrative.land_parcel",
    "elementType": "labels.text.fill",
    "stylers": [
      {
        "color": "#bdbdbd"
      }
    ]
  },
  {
    "featureType": "poi",
    "elementType": "geometry",
    "stylers": [
      {
        "color": "#eeeeee"
      }
    ]
  },
  {
    "featureType": "poi",
    "elementType": "labels.text.fill",
    "stylers": [
      {
        "color": "#757575"
      }
    ]
  },
  {
    "featureType": "poi.park",
    "elementType": "geometry",
    "stylers": [
      {
        "color": "#e5e5e5"
      }
    ]
  },
  {
    "featureType": "poi.park",
    "elementType": "labels.text.fill",
    "stylers": [
      {
        "color": "#9e9e9e"
      }
    ]
  },
  {
    "featureType": "road",
    "elementType": "geometry",
    "stylers": [
      {
        "color": "#ffffff"
      }
    ]
  },
  {
    "featureType": "road.arterial",
    "elementType": "labels.text.fill",
    "stylers": [
      {
        "color": "#757575"
      }
    ]
  },
  {
    "featureType": "road.highway",
    "elementType": "geometry",
    "stylers": [
      {
        "color": "#dadada"
      }
    ]
  },
  {
    "featureType": "road.highway",
    "elementType": "labels.text.fill",
    "stylers": [
      {
        "color": "#616161"
      }
    ]
  },
  {
    "featureType": "road.local",
    "elementType": "labels.text.fill",
    "stylers": [
      {
        "color": "#9e9e9e"
      }
    ]
  },
  {
    "featureType": "transit.line",
    "elementType": "geometry",
    "stylers": [
      {
        "color": "#e5e5e5"
      }
    ]
  },
  {
    "featureType": "transit.station",
    "elementType": "geometry",
    "stylers": [
      {
        "color": "#eeeeee"
      }
    ]
  },
  {
    "featureType": "water",
    "elementType": "geometry",
    "stylers": [
      {
        "color": "#c9c9c9"
      }
    ]
  },
  {
    "featureType": "water",
    "elementType": "labels.text.fill",
    "stylers": [
      {
        "color": "#9e9e9e"
      }
    ]
  }
],
          {name: 'Styled Map'});

        // Create a map object, and include the MapTypeId to add
        // to the map type control.
    //     var map = new google.maps.Map(document.getElementById('map'), {

    //     center: new google.maps.LatLng(41.98723870329917, 9.735023500000011),
    //   zoom: 2,
    //   mapTypeId: google.maps.MapTypeId.ROADMAP
    // });






            google.maps.visualRefresh = true;
            var isMobile = (navigator.userAgent.toLowerCase().indexOf('android') > -1) ||
            (navigator.userAgent.match(/(iPod|iPhone|iPad|BlackBerry|Windows Phone|iemobile)/));
            if (isMobile) {
              var viewport = document.querySelector("meta[name=viewport]");
              viewport.setAttribute('content', 'initial-scale=1.0, user-scalable=no');
            }
            var mapDiv = document.getElementById('googft-mapCanvas');
            mapDiv.style.width = isMobile ? '100%' : '90%';
            mapDiv.style.height = isMobile ? '100%' : '90%';
            var map = new google.maps.Map(document.getElementById('map'), {
              center: new google.maps.LatLng(20.72538832794255, 0),
              zoom: 2,
              mapTypeId: google.maps.MapTypeId.ROADMAP
            });
            map.controls[google.maps.ControlPosition.RIGHT_TOP].push(document.getElementById('googft-legend-open'));
            map.controls[google.maps.ControlPosition.RIGHT_TOP].push(document.getElementById('googft-legend'));


            layer = new google.maps.FusionTablesLayer({
              map: map,
              heatmap: { enabled: false },
              query: {
                select: "col5",
                from: "10Rky0UpWeIMfJDnihhhQS555HLbfXYB6w9YG2mHH",
                where: ""
              },
              options: {
                styleId: 2,
                templateId: 2
              }
            });

            if (isMobile) {
              var legend = document.getElementById('googft-legend');
              var legendOpenButton = document.getElementById('googft-legend-open');
              var legendCloseButton = document.getElementById('googft-legend-close');
              legend.style.display = 'none';
              legendOpenButton.style.display = 'block';
              legendCloseButton.style.display = 'block';
              legendOpenButton.onclick = function() {
                legend.style.display = 'block';
                legendOpenButton.style.display = 'none';
              }
              legendCloseButton.onclick = function() {
                legend.style.display = 'none';
                legendOpenButton.style.display = 'block';
              }
            }


  // google.maps.event.addDomListener(window, 'load', initMap);

        //Associate the styled map with the MapTypeId and set it to display.
        map.mapTypes.set('styled_map', styledMapType);
        map.setMapTypeId('styled_map');

      }
      </script>
      <script async defer
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyC-VW0BKriyHr3u-gGG2dDhJM1W6vkVoBk&callback=initMap">
      </script>



      <!-- <body> -->
      <div>

                    <h4>Source: <a href="http://www.fao.org/faostat/en/#data">FAOSTAT</a></h4>
                     <h5>This data also contains production of Mangosteens and Guavas. FAOSTAT does not provide individual data for mangoes.</h5>

      </div>
       <div id="googft-mapCanvas"></div>
  <input id="googft-legend-open" style="display:none" type="button" value="Legend"></input>
  <div id="googft-legend">
    <p id="googft-legend-title">Value (tonnes)</p>
    <div>
      <span class="googft-legend-swatch" 
style="background-color: #edcca3"></span>
      <span class="googft-legend-range">15 to 10,000</span>
    </div>
    <div>
      <span class="googft-legend-swatch" 
style="background-color: #ffd966"></span>
      <span class="googft-legend-range">10,000 to 100,000</span>
    </div>
    <div>
      <span class="googft-legend-swatch" 
style="background-color: #ff9900"></span>
      <span class="googft-legend-range">100,000 to 1,000,000</span>
    </div>
    <div>
      <span class="googft-legend-swatch" 
style="background-color: #f46464"></span>
      <span class="googft-legend-range">1,000,000 to 10,000,000</span>
    </div>
    <div>
      <span class="googft-legend-swatch" 
style="background-color: #2c1320"></span>
      <span class="googft-legend-range">10,000,000 to 18,431,331</span>
    </div>
    <div class="googft-legend-source">
      <a href="data?docid=10Rky0UpWeIMfJDnihhhQS555HLbfXYB6w9YG2mHH" target="_blank">Source</a>
    </div>
    <input id="googft-legend-close" style="display:none" type="button" value="Hide"></input>
  </div>

<!-- <p>Stylize maps here: https://developers.google.com/maps/documentation/javascript/styling#creating_a_styledmaptype</p> -->

    </body>
      </html>